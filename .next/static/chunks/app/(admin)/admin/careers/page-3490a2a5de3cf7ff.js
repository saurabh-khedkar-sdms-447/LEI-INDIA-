(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6820],{5943:function(e,s,i){Promise.resolve().then(i.bind(i,4560))},4560:function(e,s,i){"use strict";i.r(s),i.d(s,{default:function(){return b}});var t=i(3890),r=i(8496),a=i(7945),n=i(376),l=i(9083),c=i(5741),d=i(8756),o=i(1015),x=i(401),h=i(3820),p=i(7015),m=i(7373),j=i(8837),u=i(6932),f=i(1680),y=i(6664);let v=y.Ry({title:y.Z_().min(1,"Title is required"),department:y.Z_().min(1,"Department is required"),location:y.Z_().min(1,"Location is required"),type:y.Z_().min(1,"Type is required"),description:y.Z_().min(1,"Description is required"),requirements:y.Z_().optional(),responsibilities:y.Z_().optional(),benefits:y.Z_().optional(),salary:y.Z_().optional(),active:y.O7()});function b(){var e;let{isAuthenticated:s}=(0,a.J)(),[i,y]=(0,r.useState)([]),[b,g]=(0,r.useState)(!0),[N,_]=(0,r.useState)(!1),[w,C]=(0,r.useState)(null),{register:F,handleSubmit:k,formState:{errors:S},reset:q,setValue:Z,watch:E}=(0,u.cI)({resolver:(0,f.F)(v),defaultValues:{active:!0}});(0,r.useEffect)(()=>{T()},[]);let T=async()=>{try{let e=await fetch("".concat("","/api/careers")),s=await e.json();y(s)}catch(e){console.error("Failed to fetch careers:",e)}finally{g(!1)}},I=e=>{C(e),q({title:e.title,department:e.department,location:e.location,type:e.type,description:e.description,requirements:e.requirements||"",responsibilities:e.responsibilities||"",benefits:e.benefits||"",salary:e.salary||"",active:e.active}),_(!0)},z=async e=>{if(s)try{let s=w?"".concat("","/api/careers/").concat(w._id):"".concat("","/api/careers");if(!(await fetch(s,{method:w?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw Error("Failed to save career");_(!1),T(),q()}catch(e){console.error("Failed to save career:",e),alert("Failed to save career")}},A=async e=>{if(s&&confirm("Are you sure you want to delete this career?"))try{if(!(await fetch("".concat("","/api/careers/").concat(e),{method:"DELETE"})).ok)throw Error("Failed to delete career");T()}catch(e){console.error("Failed to delete career:",e),alert("Failed to delete career")}};return b?(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Careers"}),(0,t.jsx)("p",{className:"text-gray-600 mt-2",children:"Manage job openings"})]}),(0,t.jsxs)(l.z,{onClick:()=>{C(null),q({active:!0}),_(!0)},children:[(0,t.jsx)(p.Z,{className:"h-4 w-4 mr-2"}),"Add Career"]})]}),(0,t.jsx)(n.Zb,{children:(0,t.jsx)(n.aY,{className:"p-0",children:(0,t.jsxs)(o.iA,{children:[(0,t.jsx)(o.xD,{children:(0,t.jsxs)(o.SC,{children:[(0,t.jsx)(o.ss,{children:"Title"}),(0,t.jsx)(o.ss,{children:"Department"}),(0,t.jsx)(o.ss,{children:"Location"}),(0,t.jsx)(o.ss,{children:"Type"}),(0,t.jsx)(o.ss,{children:"Status"}),(0,t.jsx)(o.ss,{className:"text-right",children:"Actions"})]})}),(0,t.jsx)(o.RM,{children:0===i.length?(0,t.jsx)(o.SC,{children:(0,t.jsx)(o.pj,{colSpan:6,className:"text-center py-8 text-gray-500",children:"No careers found"})}):i.map(e=>(0,t.jsxs)(o.SC,{children:[(0,t.jsx)(o.pj,{className:"font-medium",children:e.title}),(0,t.jsx)(o.pj,{children:e.department}),(0,t.jsx)(o.pj,{children:e.location}),(0,t.jsx)(o.pj,{children:e.type}),(0,t.jsx)(o.pj,{children:e.active?(0,t.jsx)("span",{className:"text-green-600",children:"Active"}):(0,t.jsx)("span",{className:"text-gray-500",children:"Inactive"})}),(0,t.jsx)(o.pj,{className:"text-right",children:(0,t.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,t.jsx)(l.z,{variant:"ghost",size:"icon",onClick:()=>I(e),children:(0,t.jsx)(m.Z,{className:"h-4 w-4"})}),(0,t.jsx)(l.z,{variant:"ghost",size:"icon",onClick:()=>A(e._id),children:(0,t.jsx)(j.Z,{className:"h-4 w-4 text-red-500"})})]})})]},e._id))})]})})}),(0,t.jsx)(x.Vq,{open:N,onOpenChange:_,children:(0,t.jsxs)(x.cZ,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)(x.fK,{children:[(0,t.jsx)(x.$N,{children:w?"Edit Career":"Create Career"}),(0,t.jsx)(x.Be,{children:w?"Update career information":"Add a new job opening"})]}),(0,t.jsxs)("form",{onSubmit:k(z),className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(d._,{htmlFor:"title",children:"Title *"}),(0,t.jsx)(c.I,{id:"title",...F("title")}),S.title&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:S.title.message})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(d._,{htmlFor:"department",children:"Department *"}),(0,t.jsx)(c.I,{id:"department",...F("department")}),S.department&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:S.department.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(d._,{htmlFor:"location",children:"Location *"}),(0,t.jsx)(c.I,{id:"location",...F("location")}),S.location&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:S.location.message})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(d._,{htmlFor:"type",children:"Type *"}),(0,t.jsx)(c.I,{id:"type",...F("type"),placeholder:"e.g., Full-time, Part-time"}),S.type&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:S.type.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(d._,{htmlFor:"salary",children:"Salary"}),(0,t.jsx)(c.I,{id:"salary",...F("salary"),placeholder:"e.g., $50,000 - $70,000"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(d._,{htmlFor:"description",children:"Description *"}),(0,t.jsx)("textarea",{id:"description",...F("description"),className:"flex min-h-[100px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm",rows:4}),S.description&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:S.description.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(d._,{htmlFor:"requirements",children:"Requirements"}),(0,t.jsx)("textarea",{id:"requirements",...F("requirements"),className:"flex min-h-[100px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm",rows:4,placeholder:"List the requirements for this position..."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(d._,{htmlFor:"responsibilities",children:"Responsibilities"}),(0,t.jsx)("textarea",{id:"responsibilities",...F("responsibilities"),className:"flex min-h-[100px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm",rows:4,placeholder:"List the key responsibilities..."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(d._,{htmlFor:"benefits",children:"Benefits"}),(0,t.jsx)("textarea",{id:"benefits",...F("benefits"),className:"flex min-h-[100px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm",rows:4,placeholder:"List the benefits offered..."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(d._,{htmlFor:"active",children:"Status"}),(0,t.jsxs)(h.Ph,{onValueChange:e=>Z("active","true"===e),defaultValue:null===(e=E("active"))||void 0===e?void 0:e.toString(),children:[(0,t.jsx)(h.i4,{children:(0,t.jsx)(h.ki,{})}),(0,t.jsxs)(h.Bw,{children:[(0,t.jsx)(h.Ql,{value:"true",children:"Active"}),(0,t.jsx)(h.Ql,{value:"false",children:"Inactive"})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-2 pt-4",children:[(0,t.jsx)(l.z,{type:"button",variant:"outline",onClick:()=>_(!1),children:"Cancel"}),(0,t.jsxs)(l.z,{type:"submit",children:[w?"Update":"Create"," Career"]})]})]})]})})]})}}},function(e){e.O(0,[8741,5669,396,8568,5399,846,4385,9649,2945,1744],function(){return e(e.s=5943)}),_N_E=e.O()}]);