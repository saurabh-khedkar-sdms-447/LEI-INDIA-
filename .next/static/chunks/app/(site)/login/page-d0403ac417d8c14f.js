(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6914],{4838:function(e,r,s){Promise.resolve().then(s.bind(s,3840))},3840:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return b}});var t=s(3890),a=s(8496),l=s(8779),n=s(6932),i=s(1680),c=s(6664),d=s(9826),o=s(6599),m=s(376),u=s(9083),f=s(5741),x=s(8756),h=s(9516),p=s(1520),j=s(319),y=s(6392),N=s(6788);let g=c.Ry({email:c.Z_().email("Please enter a valid email address"),password:c.Z_().min(6,"Password must be at least 6 characters")});function w(){let e=(0,l.useRouter)(),r=(0,l.useSearchParams)(),{login:c,isAuthenticated:w}=(0,y.I)(),[b,v]=(0,a.useState)(!1),[Z,_]=(0,a.useState)(null);(0,a.useEffect)(()=>{if(w){let s=r.get("redirect")||"/rfq";e.push(s)}},[w,e,r]);let{register:k,handleSubmit:R,formState:{errors:C}}=(0,n.cI)({resolver:(0,i.F)(g)}),F=async t=>{v(!0),_(null);try{let{apiClient:a}=await s.e(3114).then(s.bind(s,3114)),l=await a.post("/api/users/login",t);c(l.user);let n=r.get("redirect")||"/rfq";e.push(n)}catch(e){_((null==e?void 0:e.message)||"Login failed. Please try again.")}finally{v(!1)}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.Header,{}),(0,t.jsx)("main",{children:(0,t.jsx)("div",{className:"min-h-[calc(100vh-200px)] flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100 p-4",children:(0,t.jsxs)(m.Zb,{className:"w-full max-w-md",children:[(0,t.jsxs)(m.Ol,{className:"space-y-1 text-center",children:[(0,t.jsx)("div",{className:"mx-auto w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mb-4",children:(0,t.jsx)(h.Z,{className:"h-6 w-6 text-primary"})}),(0,t.jsx)(m.ll,{className:"text-2xl font-bold",children:"Login to Your Account"}),(0,t.jsx)(m.SZ,{children:"Enter your credentials to access your account"})]}),(0,t.jsx)(m.aY,{children:(0,t.jsxs)("form",{onSubmit:R(F),className:"space-y-4",children:[Z&&(0,t.jsx)("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:Z}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(x._,{htmlFor:"email",children:"Email"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(p.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,t.jsx)(f.I,{id:"email",type:"email",...k("email"),placeholder:"your.email@company.com",className:"pl-10",disabled:b})]}),C.email&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:C.email.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(x._,{htmlFor:"password",children:"Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(h.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,t.jsx)(f.I,{id:"password",type:"password",...k("password"),placeholder:"Enter password",className:"pl-10",disabled:b})]}),C.password&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:C.password.message})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("input",{type:"checkbox",id:"remember",className:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"}),(0,t.jsx)(x._,{htmlFor:"remember",className:"text-sm cursor-pointer",children:"Remember me"})]}),(0,t.jsx)(N.default,{href:"#",className:"text-sm text-primary hover:underline",children:"Forgot password?"})]}),(0,t.jsx)(u.z,{type:"submit",className:"w-full",disabled:b,children:b?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(j.Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Logging in..."]}):"Login"}),(0,t.jsxs)("div",{className:"text-center text-sm text-gray-600",children:["Don't have an account?"," ",(0,t.jsx)(N.default,{href:"/register",className:"text-primary hover:underline font-medium",children:"Register here"})]})]})})]})})}),(0,t.jsx)(o.Footer,{})]})}function b(){return(0,t.jsx)(a.Suspense,{fallback:(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})}),children:(0,t.jsx)(w,{})})}},376:function(e,r,s){"use strict";s.d(r,{Ol:function(){return i},SZ:function(){return d},Zb:function(){return n},aY:function(){return o},eW:function(){return m},ll:function(){return c}});var t=s(3890),a=s(8496),l=s(1597);let n=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{ref:r,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})});n.displayName="Card";let i=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{ref:r,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",s),...a})});i.displayName="CardHeader";let c=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("h3",{ref:r,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",s),...a})});c.displayName="CardTitle";let d=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("p",{ref:r,className:(0,l.cn)("text-sm text-muted-foreground",s),...a})});d.displayName="CardDescription";let o=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{ref:r,className:(0,l.cn)("p-6 pt-0",s),...a})});o.displayName="CardContent";let m=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{ref:r,className:(0,l.cn)("flex items-center p-6 pt-0",s),...a})});m.displayName="CardFooter"},8756:function(e,r,s){"use strict";s.d(r,{_:function(){return d}});var t=s(3890),a=s(8496),l=s(5374),n=s(8898),i=s(1597);let c=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)(l.f,{ref:r,className:(0,i.cn)(c(),s),...a})});d.displayName=l.f.displayName},319:function(e,r,s){"use strict";s.d(r,{Z:function(){return t}});let t=(0,s(331).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},9516:function(e,r,s){"use strict";s.d(r,{Z:function(){return t}});let t=(0,s(331).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},6392:function(e,r,s){"use strict";s.d(r,{I:function(){return l}});var t=s(6968),a=s(461);let l=(0,t.U)()((0,a.tJ)(e=>({user:null,isAuthenticated:!1,login:r=>{e({user:r,isAuthenticated:!0})},logout:()=>{e({user:null,isAuthenticated:!1})}}),{name:"user-auth-storage",partialize:e=>({user:e.user,isAuthenticated:e.isAuthenticated})}))}},function(e){e.O(0,[8741,5669,396,9498,8568,7061,7643,5399,7248,9649,2945,1744],function(){return e(e.s=4838)}),_N_E=e.O()}]);