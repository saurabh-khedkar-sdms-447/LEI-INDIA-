"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3114],{3114:function(e,t,a){a.d(t,{apiClient:function(){return n}});class s{async fetchWithTimeout(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{timeout:a=3e4,retries:s=3,retryDelay:n=1e3,...i}=t,o=new AbortController,r=setTimeout(()=>o.abort(),a);try{let t=await fetch(e,{...i,signal:o.signal});return clearTimeout(r),t}catch(a){if(clearTimeout(r),s>0&&(a instanceof TypeError||a instanceof DOMException))return await new Promise(e=>setTimeout(e,n)),this.fetchWithTimeout(e,{...t,retries:s-1});throw a}}async handleResponse(e){if(!e.ok){let t=Error("API request failed: ".concat(e.statusText));t.status=e.status,t.statusText=e.statusText;try{let a=await e.json();t.data=a,t.message=a.error||t.message}catch(e){}switch(e.status){case 401:t.message="Authentication required. Please log in again.";break;case 403:t.message="You do not have permission to perform this action.";break;case 404:t.message="The requested resource was not found.";break;case 408:t.message="Request timed out. Please try again.";break;case 429:t.message="Too many requests. Please wait a moment and try again.";break;case 500:t.message="Server error. Please try again later.";break;case 503:t.message="Service temporarily unavailable. Please try again later."}throw t}let t=e.headers.get("content-type");return t&&t.includes("application/json")?e.json():{}}async get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a="".concat(this.baseUrl).concat(e),s=await this.fetchWithTimeout(a,{...t,method:"GET",credentials:"include"});return this.handleResponse(s)}async post(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s="".concat(this.baseUrl).concat(e),n={"Content-Type":"application/json",...a.headers||{}},i=await this.fetchWithTimeout(s,{...a,method:"POST",credentials:"include",headers:n,body:t?JSON.stringify(t):void 0});return this.handleResponse(i)}async put(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s="".concat(this.baseUrl).concat(e),n={"Content-Type":"application/json",...a.headers||{}},i=await this.fetchWithTimeout(s,{...a,method:"PUT",credentials:"include",headers:n,body:t?JSON.stringify(t):void 0});return this.handleResponse(i)}async delete(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a="".concat(this.baseUrl).concat(e),s=await this.fetchWithTimeout(a,{...t,method:"DELETE",credentials:"include",headers:{...t.headers||{}}});return this.handleResponse(s)}async upload(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s="".concat(this.baseUrl).concat(e),n=await this.fetchWithTimeout(s,{...a,method:"POST",credentials:"include",headers:{...a.headers||{}},body:t});return this.handleResponse(n)}constructor(){this.baseUrl=""}}let n=new s}}]);