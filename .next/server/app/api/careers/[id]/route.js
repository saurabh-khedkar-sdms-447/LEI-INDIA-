"use strict";(()=>{var e={};e.id=7511,e.ids=[7511],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},78893:e=>{e.exports=require("buffer")},84770:e=>{e.exports=require("crypto")},76162:e=>{e.exports=require("stream")},21764:e=>{e.exports=require("util")},8678:e=>{e.exports=import("pg")},69694:(e,r,t)=>{t.a(e,async(e,n)=>{try{t.r(r),t.d(r,{originalPathname:()=>h,patchFetch:()=>c,requestAsyncStorage:()=>d,routeModule:()=>p,serverHooks:()=>f,staticGenerationAsyncStorage:()=>l});var o=t(12085),s=t(31650),i=t(85980),a=t(89001),u=e([a]);a=(u.then?(await u)():u)[0];let p=new o.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/careers/[id]/route",pathname:"/api/careers/[id]",filename:"route",bundlePath:"app/api/careers/[id]/route"},resolvedPagePath:"/home/stark/leiindias/app/api/careers/[id]/route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:d,staticGenerationAsyncStorage:l,serverHooks:f}=p,h="/api/careers/[id]/route";function c(){return(0,i.patchFetch)({serverHooks:f,staticGenerationAsyncStorage:l})}n()}catch(e){n(e)}})},89001:(e,r,t)=>{t.a(e,async(e,n)=>{try{t.r(r),t.d(r,{GET:()=>u});var o=t(30627),s=t(83136),i=t(17261),a=e([s]);async function u(e,{params:r}){try{let t=(await s.w.query(`
      SELECT id, title, department, location, type, description,
             requirements, responsibilities, benefits, salary, active,
             "createdAt", "updatedAt"
      FROM "Career"
      WHERE id = $1
      LIMIT 1
      `,[r.id])).rows[0];if(!t)return o.NextResponse.json({error:"Career not found"},{status:404});let n=e.headers.get("authorization");if(!t.active){if(!n||!n.startsWith("Bearer "))return o.NextResponse.json({error:"Career not found"},{status:404});let e=n.substring(7),r=(0,i.W)(e);if(!r||"admin"!==r.role&&"superadmin"!==r.role)return o.NextResponse.json({error:"Career not found"},{status:404})}return o.NextResponse.json(t)}catch(e){return console.error("Failed to fetch career:",e),o.NextResponse.json({error:"Failed to fetch career"},{status:500})}}s=(a.then?(await a)():a)[0],n()}catch(e){n(e)}})},17261:(e,r,t)=>{t.d(r,{R:()=>a,W:()=>u});var n=t(57946),o=t.n(n);let s=process.env.JWT_SECRET||"",i=process.env.JWT_EXPIRES_IN||"7d";if(!s)throw Error("JWT_SECRET environment variable must be set in production");function a(e,r="customer"){if(!s)throw Error("JWT_SECRET is not configured");return o().sign({username:e,role:r},s,{expiresIn:i})}function u(e){try{if(!s)return null;return o().verify(e,s)}catch{return null}}},83136:(e,r,t)=>{t.a(e,async(e,n)=>{try{t.d(r,{w:()=>i});var o=t(8678),s=e([o]);if(o=(s.then?(await s)():s)[0],!process.env.DATABASE_URL)throw Error("DATABASE_URL must be set for Postgres connections");let i=new o.Pool({connectionString:process.env.DATABASE_URL,ssl:{rejectUnauthorized:!1}});n()}catch(e){n(e)}})}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),n=r.X(0,[6522,8247,7946],()=>t(69694));module.exports=n})();